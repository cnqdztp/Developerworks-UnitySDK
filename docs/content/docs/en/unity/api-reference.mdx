---
title: API Reference
description: Complete API documentation for the Unity SDK
---

# API Reference

Complete reference documentation for the Developerworks Unity SDK.

## DeveloperworksSDK

The main SDK class that provides access to all features.

### Singleton Instance

```csharp
DeveloperworksSDK.Instance
```

Access the SDK singleton instance after initialization.

### Initialization

#### InitializeDevelopment

```csharp
async UniTask<bool> InitializeDevelopment(string developerToken)
```

Initialize the SDK in development mode using a developer token.

**Parameters:**
- `developerToken` (string): Your developer token from the Developerworks platform

**Returns:** `true` if initialization succeeds, `false` otherwise

**Warning:** This mode costs money! Use only for development and testing.

#### InitializeProduction

```csharp
async UniTask<bool> InitializeProduction()
```

Initialize the SDK in production mode with player authentication.

**Returns:** `true` if initialization succeeds, `false` otherwise

**Note:** Players must log in through the UI. This mode is free.

### Properties

#### Chat

```csharp
ChatClient Chat { get; }
```

Access the chat client for AI conversations.

#### Image

```csharp
ImageGenerationClient Image { get; }
```

Access the image generation client.

#### Audio

```csharp
AudioTranscriptionClient Audio { get; }
```

Access the audio transcription client.

#### Player

```csharp
PlayerClient Player { get; }
```

Access the player management client.

## ChatClient

Handle AI chat and text generation.

### SendMessageAsync

```csharp
async UniTask<APIResponse<ChatResponse>> SendMessageAsync(
    string userMessage,
    string systemPrompt = null,
    string modelName = null,
    List<ChatMessage> conversationHistory = null
)
```

Send a chat message to the AI.

**Parameters:**
- `userMessage` (string): The user's message
- `systemPrompt` (string, optional): System instructions for the AI
- `modelName` (string, optional): AI model to use (default: gpt-4o-mini)
- `conversationHistory` (List<ChatMessage>, optional): Previous conversation context

**Returns:** `APIResponse<ChatResponse>` containing the AI's response

**Example:**
```csharp
var result = await chatClient.SendMessageAsync(
    "Tell me a joke",
    modelName: "gpt-4o-mini"
);

if (result.success)
{
    Debug.Log(result.data.message);
}
```

## NPCClient

Simplified interface for NPC conversations with automatic history management.

### CreateNPC

```csharp
NPCClient CreateNPC(string npcId, string systemPrompt, string modelName = null)
```

Create a new NPC client.

**Parameters:**
- `npcId` (string): Unique identifier for this NPC
- `systemPrompt` (string): NPC's personality and behavior instructions
- `modelName` (string, optional): AI model to use

**Example:**
```csharp
var npc = DeveloperworksSDK.Instance.CreateNPC(
    "merchant",
    "You are a friendly merchant who loves to haggle."
);
```

### SendMessageAsync

```csharp
async UniTask<APIResponse<ChatResponse>> SendMessageAsync(string userMessage)
```

Send a message to the NPC. Conversation history is managed automatically.

## ImageGenerationClient

Generate AI images.

### GenerateImageAsync

```csharp
async UniTask<APIResponse<ImageResponse>> GenerateImageAsync(
    string prompt,
    string modelName = null,
    int width = 1024,
    int height = 1024
)
```

Generate an image from a text prompt.

**Parameters:**
- `prompt` (string): Description of the image to generate
- `modelName` (string, optional): Image model to use
- `width` (int, optional): Image width (default: 1024)
- `height` (int, optional): Image height (default: 1024)

**Returns:** `APIResponse<ImageResponse>` containing the generated image texture

## AudioTranscriptionClient

Convert speech to text.

### TranscribeAudioAsync

```csharp
async UniTask<APIResponse<TranscriptionResponse>> TranscribeAudioAsync(
    byte[] audioData,
    string language = null
)
```

Transcribe audio to text.

**Parameters:**
- `audioData` (byte[]): WAV format audio data
- `language` (string, optional): Language code (e.g., "en", "zh")

## MicrophoneRecorder

Record audio with voice activity detection.

### StartRecording

```csharp
void StartRecording(
    float silenceDuration = 2f,
    float minRecordingDuration = 1f,
    float maxRecordingDuration = 30f
)
```

Start recording with automatic stop on silence.

**Parameters:**
- `silenceDuration` (float): Seconds of silence before stopping
- `minRecordingDuration` (float): Minimum recording length
- `maxRecordingDuration` (float): Maximum recording length

### Events

```csharp
event Action<byte[]> OnRecordingComplete
event Action<string> OnRecordingError
```

## PlayerClient

Manage player information and authentication.

### GetPlayerInfoAsync

```csharp
async UniTask<APIResponse<PlayerInfo>> GetPlayerInfoAsync()
```

Get the current player's information including credit balance.

## Response Types

### APIResponse<T>

```csharp
public class APIResponse<T>
{
    public bool success;
    public T data;
    public string error;
}
```

### ChatResponse

```csharp
public class ChatResponse
{
    public string message;
    public int usedCredits;
    public string model;
}
```

### ImageResponse

```csharp
public class ImageResponse
{
    public Texture2D texture;
    public int usedCredits;
    public string model;
}
```

### TranscriptionResponse

```csharp
public class TranscriptionResponse
{
    public string text;
    public int usedCredits;
}
```

### PlayerInfo

```csharp
public class PlayerInfo
{
    public string playerId;
    public int credits;
    public string username;
}
```
